$(document).ready(function(){function d(a){navigator.geolocation?($(a).children("button[type\x3d'submit']").button("loading"),navigator.geolocation.getCurrentPosition(function(b){$(a).children("input[name\x3d'latitude']").val(b.coords.latitude);$(a).children("input[name\x3d'longitude']").val(b.coords.longitude);e(a)},function(b){switch(b.code){case b.PERMISSION_DENIED:$(a).children("button[type\x3d'submit']").button("reset");$(a).siblings("div.alertContainer").html('\x3cdiv class\x3d"alert alert-danger alert-dismissible" role\x3d"alert"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"alert" aria-label\x3d"Close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3eYour browser/device denied the request to share location data. Please enable location sharing.\x3c/div\x3e');
break;case b.POSITION_UNAVAILABLE:$(a).children("button[type\x3d'submit']").button("reset");$(a).siblings("div.alertContainer").html('\x3cdiv class\x3d"alert alert-danger alert-dismissible" role\x3d"alert"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"alert" aria-label\x3d"Close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3eYour location is currently unavailable.\x3c/div\x3e');break;case b.TIMEOUT:$(a).children("button[type\x3d'submit']").button("reset");
$(a).siblings("div.alertContainer").html('\x3cdiv class\x3d"alert alert-danger alert-dismissible" role\x3d"alert"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"alert" aria-label\x3d"Close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3eThe request to get your location timed out.\x3c/div\x3e');break;default:$(a).children("button[type\x3d'submit']").button("reset"),$(a).siblings("div.alertContainer").html('\x3cdiv class\x3d"alert alert-danger alert-dismissible" role\x3d"alert"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"alert" aria-label\x3d"Close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3eAn unknown error occured.\x3c/div\x3e')}},
{timeout:1E4})):$(a).siblings("div.alertContainer").html('\x3cdiv class\x3d"alert alert-danger alert-dismissible" role\x3d"alert"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"alert" aria-label\x3d"Close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3eYour browser/device does not support this feature.\x3c/div\x3e')}function e(a){var b=$(a).children("input[name\x3d'redirect']").val(),c=$(a).children("input[name\x3d'longitude']").val();c={geoLocation:{lat:$(a).children("input[name\x3d'latitude']").val(),
lng:c},searchRadius:20,denominations:[]};$(a).find("input[name\x3d'isOpenSunday']")[0].checked&&(c.openSunday=!0);$(a).find("input[name\x3d'isDriveUp']")[0].checked&&(c.driveUp=!0);$(a).find("input[name\x3d'hasOnes']")[0].checked&&c.denominations.push(1);$(a).find("input[name\x3d'hasFives']")[0].checked&&c.denominations.push(2);$(a).find("input[name\x3d'hasTens']")[0].checked&&c.denominations.push(3);$(a).find("input[name\x3d'hasTwenties']")[0].checked&&c.denominations.push(4);$(a).find("input[name\x3d'hasFifties']")[0].checked&&
c.denominations.push(5);$.cookie.raw=!0;$.cookie("atmJson",encodeURIComponent(JSON.stringify(c)),{expires:1,path:"/"});window.location.href=b}$(".find-an-atm #btnAtmNearby").click(function(a){a.preventDefault();a=$(this).closest("form");d(a)});$(".find-an-atm #atmAddress").focus(function(){$("html,body").animate({scrollTop:$(this).offset().top-78},1E3)});$(".find-an-atm #atmAddress").keydown(function(a){if(13==a.which&&$(".pac-container:visible").length)return!1});$(".find-an-atm #frmAtmAddress").submit(function(a){var b=
$(this);b=""!=$(b).children("input[name\x3d'latitude']").val()&&""!=$(b).children("input[name\x3d'longitude']").val()?!0:!1;a.preventDefault();b?e(this):($(this).siblings("div.alertContainer").html('\x3cdiv class\x3d"alert alert-danger alert-dismissible" role\x3d"alert"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"alert" aria-label\x3d"Close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3cstrong\x3eInvalid address!\x3c/strong\x3e Please select a suggested address from the list that appears as you type an address.\x3c/div\x3e'),
$(this).children("div.address-input").addClass("has-error"))});$(".find-an-atm .collapse").on("shown.bs.collapse",function(){$(this).next(".text-center").find(".showHide").html("Hide");$(this).find(".filter-content-start").focus()});$(".find-an-atm .collapse").on("hidden.bs.collapse",function(){$(this).next(".text-center").find(".showHide").html("Show")});var f=$('.find-an-atm [role\x3d"tablist"]');activateTabPanel(".find-an-atm ",f)});
function clearForms(){var d;for(d=0;d<document.forms.length;d++)document.forms[d].reset();$("input[type\x3d'hidden']").val("")}$(window).bind("pageshow",function(){clearForms()});